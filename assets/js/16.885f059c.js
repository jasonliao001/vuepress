(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{257:function(t,v,_){"use strict";_.r(v);var r=_(28),o=Object(r.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h3",{attrs:{id:"一个数据包的旅程"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#一个数据包的旅程"}},[t._v("#")]),t._v(" 一个数据包的旅程")]),t._v(" "),_("p",[_("strong",[t._v("互联网中的数据是通过数据包来传输的，数据包在传输过程中容易丢失或出错")]),t._v("。")]),t._v(" "),_("p",[t._v("IP 负责把数据包送达目的主机。")]),t._v(" "),_("p",[t._v("UDP 负责把数据包送达具体应用。")]),t._v(" "),_("p",[t._v("TCP 保证了数据完整地传输。")]),t._v(" "),_("h4",{attrs:{id:"协议"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#协议"}},[t._v("#")]),t._v(" 协议")]),t._v(" "),_("blockquote",[_("p",[t._v("一套众所周知的规则和标准，如果各方都同意使用，那么它们之间的通信将变得毫无障碍。")])]),t._v(" "),_("h4",{attrs:{id:"ip-把数据包送达目的主机"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#ip-把数据包送达目的主机"}},[t._v("#")]),t._v(" IP:把数据包送达目的主机")]),t._v(" "),_("blockquote",[_("p",[t._v("数据包要在互联网上进行传输，就要符合"),_("strong",[t._v("网际协议")]),t._v("(Internet Protocol，简称"),_("strong",[t._v("IP")]),t._v(")标准，计算机的地址就称为 IP 地址，访问任何网站实际上只是你的计算机向另外一台计算机请求信息。")])]),t._v(" "),_("h4",{attrs:{id:"udp-把数据包送达应用程序"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#udp-把数据包送达应用程序"}},[t._v("#")]),t._v(" UDP:把数据包送达应用程序")]),t._v(" "),_("blockquote",[_("p",[t._v("用户数据包协议(User Datagram Protocol)，简称UDP，IP 通过 IP 地址信息把数据包发送给指定的电脑，而 UDP 通过端口号把数据包分发给正确的程序。")])]),t._v(" "),_("h4",{attrs:{id:"tcp-把数据完整地送达应用程序"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#tcp-把数据完整地送达应用程序"}},[t._v("#")]),t._v(" TCP:把数据完整地送达应用程序")]),t._v(" "),_("blockquote",[_("p",[t._v("TCP(Transmission Control Protocol，传输控制 协议)是一种面向连接的、可靠的、基于字节流的传输层通信协议。")])]),t._v(" "),_("h4",{attrs:{id:"http-协议"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#http-协议"}},[t._v("#")]),t._v(" HTTP 协议")]),t._v(" "),_("blockquote",[_("p",[t._v("HTTP 是一种允许浏览器向服务器获取 资源的协议，是 Web 的基础，通常由浏览器发起请求，用来获取不同类型的文件，例如 HTML 文件、CSS 文件、JavaScript 文件、图片、视频等。此外，HTTP 也是浏览器使用 最广的协议")])]),t._v(" "),_("h4",{attrs:{id:"浏览器端发起-http-请求流程"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#浏览器端发起-http-请求流程"}},[t._v("#")]),t._v(" 浏览器端发起 HTTP 请求流程")]),t._v(" "),_("p",[_("strong",[t._v("1.")]),t._v(" "),_("strong",[t._v("构建请求")])]),t._v(" "),_("p",[_("strong",[t._v("2.")]),t._v(" "),_("strong",[t._v("查找缓存")])]),t._v(" "),_("blockquote",[_("p",[t._v("在真正发起网络请求之前，浏览器会先在浏览器缓存中查询是否有要请求的文件。其中，"),_("strong",[t._v("浏")])]),t._v(" "),_("p",[_("strong",[t._v("览器缓存是一种在本地保存资源副本，以供下次请求时直接使用的技术")]),t._v("。")])]),t._v(" "),_("p",[_("strong",[t._v("3.")]),t._v(" "),_("strong",[t._v("准备")]),t._v(" "),_("strong",[t._v("IP")]),t._v(" "),_("strong",[t._v("地址和端口")])]),t._v(" "),_("ul",[_("li",[t._v("HTTP 和 TCP 的关系？")])]),t._v(" "),_("p",[t._v("​\t首先使用"),_("strong",[t._v("HTTP 协议作为应用层协议")]),t._v("，用来封装请求的文本信息，然后使用"),_("strong",[t._v("TCP/IP 作传输层协议")]),t._v(" 将它发到网络上，其实"),_("strong",[t._v("HTTP 的内容是通过 TCP 的传输数据阶段来实现的")]),t._v("。")]),t._v(" "),_("ul",[_("li",[t._v("如何获取 IP 地址与端口号码？")])]),t._v(" "),_("p",[t._v("负责把域名 和 IP 地址做一一映射关系。这套域名映射为 IP 的系统就叫做“"),_("strong",[t._v("域名系统")]),t._v("”，简称 "),_("strong",[t._v("DNS")]),t._v("(Domain Name System)。")]),t._v(" "),_("p",[_("strong",[t._v("第一步浏览器会请求 DNS 返回域名对应的 IP")]),t._v("。当 然浏览器提供了"),_("strong",[t._v("DNS 数据缓存服务")]),t._v("，如果某个域名已经解析过了，那么浏览器会缓存解析的结果，以供下次查询时直接使用，这样也会减少一次网络请求")]),t._v(" "),_("p",[_("strong",[t._v("4.")]),t._v(" "),_("strong",[t._v("等待")]),t._v(" "),_("strong",[t._v("TCP")]),t._v(" "),_("strong",[t._v("队列")])]),t._v(" "),_("p",[t._v("Chrome 有个机制，同一个域名同时最多只能建立 6 个 TCP 连接， 如果在同一个域名下同时有 10 个请求发生，那么其中 4 个请求会进入排队等待状态，直至 进行中的请求完成,如果当前请求数量少于 6，会直接进入下一步，建立 TCP 连接.")]),t._v(" "),_("p",[_("strong",[t._v("5.")]),t._v(" "),_("strong",[t._v("建立")]),t._v(" "),_("strong",[t._v("TCP")]),t._v(" "),_("strong",[t._v("连接")])]),t._v(" "),_("p",[_("strong",[t._v("6.")]),t._v(" "),_("strong",[t._v("发送")]),t._v(" "),_("strong",[t._v("HTTP")]),t._v(" "),_("strong",[t._v("请求")])]),t._v(" "),_("p",[t._v("浏览器会向服务器发送"),_("strong",[t._v("请求行")]),t._v("，它包括了"),_("strong",[t._v("请求方法、请求 URI(Uniform Resource Identifier)和 HTTP 版本协议")])]),t._v(" "),_("h4",{attrs:{id:"服务器端处理-http-请求流程"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#服务器端处理-http-请求流程"}},[t._v("#")]),t._v(" "),_("strong",[t._v("服务器端处理")]),t._v(" "),_("strong",[t._v("HTTP")]),t._v(" "),_("strong",[t._v("请求流程")])]),t._v(" "),_("p",[_("strong",[t._v("1.")]),t._v(" "),_("strong",[t._v("返回请求")])]),t._v(" "),_("p",[_("strong",[t._v("2.")]),t._v(" "),_("strong",[t._v("断开连接")])]),t._v(" "),_("p",[t._v("一旦服务器向客户端返回了请求数据，它就要关闭 TCP 连接，如果浏览器或者服务器在其头信息中加入。")]),t._v(" "),_("p",[_("code",[t._v("Connection:Keep-Alive")])]),t._v(" "),_("p",[t._v("TCP 连接在发送后将仍然保持打开状态，这样浏览器就可以继续通过同一个 TCP 连接 发送请求。"),_("strong",[t._v("保持 TCP 连接可以省去下次请求时需要建立连接的时间，提升资源加载速度")])]),t._v(" "),_("p",[_("strong",[t._v("3.")]),t._v(" "),_("strong",[t._v("重定向")])]),t._v(" "),_("p",[t._v("响应行返回的状态码是 301 或者 302，状态 301 或者 302就是告诉浏览器，我需要重定 向到另外一个网址，而需要重定向的网址正是包含在响应头的 Location 字段中，接下来， 浏览器获取 Location 字段中的地址，并使用该地址重新导航，这就是一个完整重定向的执 行流程")]),t._v(" "),_("p",[_("strong",[t._v("Rerfence:")])]),t._v(" "),_("p",[_("a",{attrs:{href:"https://time.geekbang.org/column/intro/100033601",target:"_blank",rel:"noopener noreferrer"}},[t._v("浏览器工作原理与实践"),_("OutboundLink")],1)])])}),[],!1,null,null,null);v.default=o.exports}}]);